# Projekttagebuch: ReelMatch

## Tag 26 Freitag (25.07.2025):

---

**Heutige Hauptaufgabe(n):**
*   **Ziel:** S3-Bucket mit EC2-Instanz verbinden und Speicherprobleme dauerhaft lösen
*   **Ticket(s):** [keine]

**Fortschritt & Ergebnisse:**
*   🟡 Mehrere Versuche, das S3-Bucket für File-Uploads direkt mit der EC2-Instanz zu verbinden (AWS IAM, Umgebungsvariablen, Docker-Umgebung)
*   🔴 Viele technische Hürden und Fehler beim S3-Upload (u.a. fehlende AWS-Keys im Container, Migration-Probleme, ES-Module-Kompatibilität mit Knex)
*   ⚠️ Nach mehreren Debugging-Versuchen und Zeitverlust wurde ein Rollback auf ein funktionierendes Backup des Repos durchgeführt
*   ✅ Neues Volume (30 GB) an die EC2-Instanz gemountet, da das Root-Volume (8 GB) permanent voll war
*   ✅ Upload-Ordner und Docker-Container liegen jetzt auf dem gemounteten Volume, wodurch Speicherprobleme gelöst wurden
*   ✅ Anwendung läuft stabil auf der EC2-Instanz, keine weiteren Änderungen mehr vor der Präsentation

**Herausforderungen & Blockaden:**
*   **Problem:** Komplexe Fehler beim Versuch, S3-Uploads aus dem Container zu ermöglichen (u.a. Umgebungsvariablen, Migrationen, ES-Module-Support)
*   **Lösung:** Rückgriff auf bewährtes Backup, Fokus auf lokale Speicherung statt S3
*   **Problem:** Root-Volume der EC2-Instanz zu klein für Uploads und Docker-Container
*   **Lösung:** Eigenes 30 GB Volume gemountet und als Speicherort für Uploads und Container eingerichtet

**Was ich heute gelernt habe:**
*   S3-Integration mit Docker und Node.js ist fehleranfällig, wenn Umgebungsvariablen oder Migrationen nicht 100% passen
*   Ein gemountetes Volume ist für größere Uploads und persistente Docker-Daten auf kleinen EC2-Instanzen unerlässlich
*   Rollbacks auf funktionierende Backups sparen im Zweifel viel Zeit und Nerven
*   Performance-Limitierungen von t2.small-Instanzen (Upload dauert 10–15 Sekunden pro Video)

**Plan für morgen:**
*   Keine weiteren Änderungen mehr – Fokus auf Präsentationsvorbereitung und Stabilität
*   Optional: Monitoring der Instanz und Speicherplatz

**Fazit:**
✅ **Die Anwendung läuft jetzt stabil auf der EC2-Instanz mit ausreichend Speicherplatz.**  
❗️ **S3-Integration bleibt ein Thema für später, aktuell steht Zuverlässigkeit im Vordergrund.**  
**Einziger Wermutstropfen:** Uploads auf der t2.small sind relativ langsam (10–15 Sekunden), aber die App ist bereit für die Präsentation.