# Projekttagebuch: ReelMatch

## Tag 26 Freitag (25.07.2025):

---

**Heutige Hauptaufgabe(n):**
*   **Ziel:** S3-Bucket mit EC2-Instanz verbinden und Speicherprobleme dauerhaft lÃ¶sen
*   **Ticket(s):** [keine]

**Fortschritt & Ergebnisse:**
*   ğŸŸ¡ Mehrere Versuche, das S3-Bucket fÃ¼r File-Uploads direkt mit der EC2-Instanz zu verbinden (AWS IAM, Umgebungsvariablen, Docker-Umgebung)
*   ğŸ”´ Viele technische HÃ¼rden und Fehler beim S3-Upload (u.a. fehlende AWS-Keys im Container, Migration-Probleme, ES-Module-KompatibilitÃ¤t mit Knex)
*   âš ï¸ Nach mehreren Debugging-Versuchen und Zeitverlust wurde ein Rollback auf ein funktionierendes Backup des Repos durchgefÃ¼hrt
*   âœ… Neues Volume (30 GB) an die EC2-Instanz gemountet, da das Root-Volume (8 GB) permanent voll war
*   âœ… Upload-Ordner und Docker-Container liegen jetzt auf dem gemounteten Volume, wodurch Speicherprobleme gelÃ¶st wurden
*   âœ… Anwendung lÃ¤uft stabil auf der EC2-Instanz, keine weiteren Ã„nderungen mehr vor der PrÃ¤sentation

**Herausforderungen & Blockaden:**
*   **Problem:** Komplexe Fehler beim Versuch, S3-Uploads aus dem Container zu ermÃ¶glichen (u.a. Umgebungsvariablen, Migrationen, ES-Module-Support)
*   **LÃ¶sung:** RÃ¼ckgriff auf bewÃ¤hrtes Backup, Fokus auf lokale Speicherung statt S3
*   **Problem:** Root-Volume der EC2-Instanz zu klein fÃ¼r Uploads und Docker-Container
*   **LÃ¶sung:** Eigenes 30 GB Volume gemountet und als Speicherort fÃ¼r Uploads und Container eingerichtet

**Was ich heute gelernt habe:**
*   S3-Integration mit Docker und Node.js ist fehleranfÃ¤llig, wenn Umgebungsvariablen oder Migrationen nicht 100% passen
*   Ein gemountetes Volume ist fÃ¼r grÃ¶ÃŸere Uploads und persistente Docker-Daten auf kleinen EC2-Instanzen unerlÃ¤sslich
*   Rollbacks auf funktionierende Backups sparen im Zweifel viel Zeit und Nerven
*   Performance-Limitierungen von t2.small-Instanzen (Upload dauert 10â€“15 Sekunden pro Video)

**Plan fÃ¼r morgen:**
*   Keine weiteren Ã„nderungen mehr â€“ Fokus auf PrÃ¤sentationsvorbereitung und StabilitÃ¤t
*   Optional: Monitoring der Instanz und Speicherplatz

**Fazit:**
âœ… **Die Anwendung lÃ¤uft jetzt stabil auf der EC2-Instanz mit ausreichend Speicherplatz.**  
â—ï¸ **S3-Integration bleibt ein Thema fÃ¼r spÃ¤ter, aktuell steht ZuverlÃ¤ssigkeit im Vordergrund.**  
**Einziger Wermutstropfen:** Uploads auf der t2.small sind relativ langsam (10â€“15 Sekunden), aber die App ist bereit fÃ¼r die PrÃ¤sentation.